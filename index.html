<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Morse Code IXL Trainer</title>

<style>
body{
  margin:0;
  background:#000;
  color:#ff2a2a;
  font-family:Courier,monospace;
  text-align:center;
}
h1{ text-shadow:0 0 10px #ff2a2a55; }

button{
  background:#0a0a0a;
  color:#ff2a2a;
  border:1px solid #ff2a2a;
  padding:8px 14px;
  margin:4px;
  cursor:pointer;
  font-family:inherit;
}
button:hover{ background:#ff2a2a; color:black; }

input{
  width:80%;
  padding:10px;
  font-size:18px;
  background:#0a0a0a;
  color:#ff2a2a;
  border:1px solid #ff2a2a;
  text-align:center;
  font-family:inherit;
}

#prompt{ font-size:32px; margin:20px; }

#progressBar{
  width:80%;
  height:16px;
  border:1px solid #ff2a2a;
  margin:10px auto;
}
#progressFill{
  height:100%;
  width:0%;
  background:#ff2a2a;
}

#sheet{
  display:none;
  position:fixed;
  right:10px;
  top:10px;
  bottom:10px;
  width:260px;
  overflow-y:auto;
  background:#050505;
  border:1px solid #ff2a2a;
  padding:10px;
  text-align:left;
}

#introModal{
  position:fixed;
  top:0;left:0;right:0;bottom:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  z-index:1000;
}
</style>
</head>
<body>

<h1>Morse Code Trainer</h1>

<div id="introModal">
<p>YAY! New update! Not much to say really..</p>
<button onclick="openLevels()">Continue</button>
</div>

<div id="levelSelect" style="display:none;"></div>

<div id="trainer" style="display:none;">
<div id="prompt">---</div>
<input id="entry" placeholder="type morse here">

<div>
<button onclick="check()">Check</button>
<button onclick="toggleSheet()">Cheat Sheet</button>
</div>

<div id="progressBar"><div id="progressFill"></div></div>
<div id="score">Score:0</div>
<div id="time">Time:0s</div>
<div id="result"></div>
</div>

<div id="sheet"></div>

<script>
const MORSE={
A:".-",B:"-...",C:"-.-.",D:"-..",E:".",
F:"..-.",G:"--.",H:"....",I:"..",J:".---",
K:"-.-",L:".-..",M:"--",N:"-.",O:"---",
P:".--.",Q:"--.-",R:".-.",S:"...",T:"-",
U:"..-",V:"...-",W:".--",X:"-..-",Y:"-.--",Z:"--..",
0:"-----",1:".----",2:"..---",3:"...--",4:"....-",
5:".....",6:"-....",7:"--...",8:"---..",9:"----."
};

const LEVELS=[
{name:"Letters A-E",letters:"ABCDE"},
{name:"Numbers 1-5",numbers:"12345"},
{name:"Words A-E",letters:"ABCDE",words:true},
{name:"Words with Numbers",letters:"ABCDE",numbers:"1234",words:true},
{name:"Big Numbers 1-4",numbers:"1234",big:true},

{name:"Medium Letters A-O",letters:"ABCDEFGHIJKLMNO"},
{name:"Medium Numbers 1-7",numbers:"1234567",big:true},

{name:"Hard All Letters",letters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},
{name:"Hard Big Numbers",numbers:"0123456789",big:true}
];

let unlocked=1;
let currentLevel=null;
let current="";
let score=0;
let goalScore=100;
let startTime=0;
let timer=null;

function openLevels(){
document.getElementById("introModal").style.display="none";
const div=document.getElementById("levelSelect");
div.style.display="block";
div.innerHTML="<h2>Select Level</h2>";
LEVELS.forEach((l,i)=>{
const b=document.createElement("button");
b.textContent=l.name+(i>=unlocked?" ðŸ”’":"");
b.disabled=i>=unlocked;
b.onclick=()=>startLevel(i);
div.appendChild(b);
});
}

function startLevel(i){
currentLevel=LEVELS[i];
score=0;
updateScore();
document.getElementById("levelSelect").style.display="none";
document.getElementById("trainer").style.display="block";
startTime=Date.now();
timer=setInterval(updateTime,1000);
newQuestion();
}

function updateTime(){
const sec=Math.floor((Date.now()-startTime)/1000);
document.getElementById("time").textContent="Time:"+sec+"s";
}

function random(arr){return arr[Math.floor(Math.random()*arr.length)];}

function newQuestion(){
if(currentLevel.big){
let digits=currentLevel.numbers.split("");
let len=digits.length;
current=Array.from({length:len},()=>random(digits)).join("");
}
else if(currentLevel.words){
let letters=currentLevel.letters.split("");
let len=letters.length;
current=Array.from({length:Math.min(5,len)},()=>random(letters)).join("");
}
else if(currentLevel.letters){
current=random(currentLevel.letters.split(""));
}
else if(currentLevel.numbers){
current=random(currentLevel.numbers.split(""));
}
document.getElementById("prompt").textContent=current;
document.getElementById("entry").value="";
}

function toMorse(text){
return text.split("").map(c=>c===" "?"/":MORSE[c]).join(" ");
}

function check(){
const user=document.getElementById("entry").value.trim();
const correct=toMorse(current);

if(user===correct){
score+=5;
document.getElementById("result").textContent="Correct âœ“";
}else{
score-=5;
if(score<0)score=0;
document.getElementById("result").textContent="Wrong âœ— "+correct;
}

updateScore();

if(score>=goalScore){
finishLevel();
}else{
setTimeout(newQuestion,700);
}
}

function updateScore(){
document.getElementById("score").textContent="Score:"+score;
document.getElementById("progressFill").style.width=Math.min(score,100)+"%";
}

function finishLevel(){
clearInterval(timer);
alert("Level Complete!");
unlocked++;
document.getElementById("trainer").style.display="none";
openLevels();
}

function toggleSheet(){
const sheet=document.getElementById("sheet");
if(sheet.innerHTML===""){
sheet.innerHTML=Object.keys(MORSE).sort().map(k=>k+" : "+MORSE[k]).join("<br>");
}
sheet.style.display=sheet.style.display==="none"?"block":"none";
}
</script>

</body>
</html>

