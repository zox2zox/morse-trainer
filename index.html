<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Learn Morse Code with this red & black themed trainer. Practice letters, numbers, words, and sentences with scoring and a cheat sheet.">
<title>Morse Code Trainer</title>
<style>
  /* === GLOBAL STYLES === */
  body {
    margin: 0;
    background: #000;
    color: #ff2a2a;
    font-family: Courier, monospace;
    text-align: center;
  }

  h1 {
    text-shadow: 0 0 10px #ff2a2a55;
    margin-top: 20px;
  }

  button {
    background: #0a0a0a;
    color: #ff2a2a;
    border: 1px solid #ff2a2a;
    padding: 8px 14px;
    margin: 4px;
    cursor: pointer;
    font-family: inherit;
  }

  button:hover {
    background: #ff2a2a;
    color: black;
  }

  input {
    width: 80%;
    padding: 10px;
    font-size: 18px;
    background: #0a0a0a;
    color: #ff2a2a;
    border: 1px solid #ff2a2a;
    text-align: center;
    font-family: inherit;
    margin: 10px 0;
  }

  .row { margin: 6px 0; }
  #result { margin-top: 10px; white-space: pre-line; }
  #score { margin-top: 5px; }

  #prompt { font-size: 32px; margin: 20px; }

  #sheet {
    display: none;
    position: fixed;
    right: 10px;
    top: 10px;
    bottom: 10px;
    width: 260px;
    overflow-y: auto;
    background: #050505;
    border: 1px solid #ff2a2a;
    padding: 10px;
    text-align: left;
  }

  /* === MODAL SPLASH === */
  #introModal {
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.95);
    color: #ff2a2a;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    padding: 20px;
    z-index: 1000;
    text-align: center;
  }

  #introModal p {
    max-width: 600px;
    line-height: 1.5;
    margin-bottom: 20px;
  }

  @media(max-width:600px) {
    #prompt { font-size: 24px; }
    input { width: 90%; }
  }
</style>
</head>
<body>

<h1>Morse Code Trainer</h1>

<!-- INTRO MODAL -->
<div id="introModal">
  <p>
    Hey! This was made mainly for my friends and other people I talk to. If you're new, that's totally fine!  
    You can still use this to practice Morse Code. Press continue to start practicing.
  </p>
  <button onclick="startTrainer()">Continue</button>
</div>

<!-- TRAINER -->
<div id="trainer" style="display:none;">
  <div id="prompt">---</div>
  <input id="entry" placeholder="type morse here">

  <div class="row">
    <button onclick="check()">Check</button>
    <button onclick="toggleSheet()">Cheat Sheet</button>
  </div>

  <div class="row">
    <button onclick="setMode('LETTERS')">LETTERS</button>
    <button onclick="setMode('NUMBERS')">NUMBERS</button>
    <button onclick="setMode('WORDS')">WORDS</button>
    <button onclick="setMode('SENTENCES')">SENTENCES</button>
  </div>

  <div class="row">
    <button onclick="setDifficulty('EASY')">EASY</button>
    <button onclick="setDifficulty('MEDIUM')">MEDIUM</button>
    <button onclick="setDifficulty('HARD')">HARD</button>
  </div>

  <div id="result"></div>
  <div id="score">Score: 0/0</div>
</div>

<div id="sheet"></div>

<script>
// === MORSE DATA ===
const MORSE = {
  A: ".-", B: "-...", C: "-.-.", D: "-..",
  E: ".", F: "..-.", G: "--.", H: "....",
  I: "..", J: ".---", K: "-.-", L: ".-..",
  M: "--", N: "-.", O: "---", P: ".--.",
  Q: "--.-", R: ".-.", S: "...", T: "-",
  U: "..-", V: "...-", W: ".--", X: "-..-",
  Y: "-.--", Z: "--..",
  0: "-----", 1: ".----", 2: "..---", 3: "...--",
  4: "....-", 5: ".....", 6: "-....", 7: "--...",
  8: "---..", 9: "----."
};

const EASY_WORDS = ["HI", "CAT", "DOG", "BEEP", "CODE"];
const MEDIUM_WORDS = ["HELLO", "RADIO", "PYTHON", "MORSE"];
const HARD_WORDS = ["TRANSMISSION", "FREQUENCY", "ENCRYPTION"];
const EASY_SENTENCES = ["HI THERE", "SEND CODE"];
const MEDIUM_SENTENCES = ["LEARN MORSE CODE", "RADIO SIGNAL ACTIVE"];
const HARD_SENTENCES = [
  "KEEP PRACTICING MORSE CODE DAILY",
  "LONG TRANSMISSIONS REQUIRE SKILL"
];

// === STATE ===
let mode = "LETTERS";
let difficulty = "EASY";
let current = "";
let score = 0;
let rounds = 0;

// === HELPERS ===
function random(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

// === START TRAINER ===
function startTrainer(){
  document.getElementById("introModal").style.display="none";
  document.getElementById("trainer").style.display="block";
  newQuestion();
  document.getElementById("entry").focus();
}

// === NEW QUESTION ===
function newQuestion() {
  if(mode==="LETTERS"){
    const pool=difficulty==="EASY"?"ABCDE":difficulty==="MEDIUM"?"ABCDEFGHIJKLMNO":"ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    current=random(pool.split(""));
  } else if(mode==="NUMBERS"){
    const pool=difficulty==="EASY"?"01234":"0123456789";
    current=random(pool.split(""));
  } else if(mode==="WORDS"){
    current=random(difficulty==="EASY"?EASY_WORDS:difficulty==="MEDIUM"?MEDIUM_WORDS:HARD_WORDS);
  } else if(mode==="SENTENCES"){
    current=random(difficulty==="EASY"?EASY_SENTENCES:difficulty==="MEDIUM"?MEDIUM_SENTENCES:HARD_SENTENCES);
  }
  document.getElementById("prompt").textContent=current;
  document.getElementById("entry").value="";
  document.getElementById("result").textContent="";
}

// === TO MORSE ===
function toMorse(text){ return text.split("").map(c=>c===" "?"/":MORSE[c]).join(" "); }

// === CHECK ANSWER ===
function check(){
  const user=document.getElementById("entry").value.trim();
  const correct=toMorse(current);
  rounds++;
  if(user===correct){
    score++;
    document.getElementById("result").textContent="Correct ✓\n"+correct;
  } else {
    document.getElementById("result").textContent="Wrong ✗\n"+correct;
  }
  document.getElementById("score").textContent=`Score: ${score}/${rounds}`;
  setTimeout(newQuestion,1200);
}

// === MODE / DIFFICULTY ===
function setMode(m){ mode=m; newQuestion(); }
function setDifficulty(d){ difficulty=d; newQuestion(); }

// === CHEAT SHEET ===
function toggleSheet(){
  const sheet=document.getElementById("sheet");
  if(sheet.innerHTML===""){
    sheet.innerHTML=Object.keys(MORSE).sort().map(k=>`${k} : ${MORSE[k]}`).join("<br>");
  }
  sheet.style.display = sheet.style.display==="none"?"block":"none";
}
</script>
</body>
</html>
